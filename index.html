<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GACOR EXPRESS</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="manifest" href="manifest.json">

<style>
body {
  background:#f5f5f5;
}
.app-header {
  background: linear-gradient(135deg,#1e88e5,#43a047);
  color:#fff;
  padding:20px;
  text-align:center;
}
.banner img {
  max-width:100%;
  border-radius:15px;
}
.menu-btn {
  border-radius:15px;
  padding:20px;
  background:#fff;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  cursor:pointer;
}
.menu-btn i {
  font-size:30px;
}
</style>
</head>

<body>

<div class="app-header">
  <h3>GACOR EXPRESS</h3>
  <small>Layanan Antar Jemput & Makanan</small>
</div>

<div class="container my-3">

  <!-- Banner -->
  <div class="banner text-center mb-4">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEijvQWrMotbzVppCxgv1YTqOcGuT3ZM4QrhljQ5TqxCKjYiu8bHlzNvySFMT5hoeol8EPnIp2EMGnwZa5YIMORbyeC5H3YoO0_2RFXYbetZQL-zIfPcpC-l4fMvD_e5KJT9Qc2F_k01Tv9mX12j1Km96Ll3oYH5CrhfGwbymFb3dkH_63ED_T3A1DUnK3s/s320/IMG_20260117_100108.jpg">
  </div>

  <!-- Menu -->
  <div class="row g-3 text-center">
    <div class="col-4">
      <div class="menu-btn" onclick="openOrder('Ojek Online')">
        <i>üèç</i>
        <div>Ojek</div>
      </div>
    </div>
    <div class="col-4">
      <div class="menu-btn" onclick="openOrder('Food Delivery')">
        <i>üçî</i>
        <div>Food</div>
      </div>
    </div>
    <div class="col-4">
      <div class="menu-btn" onclick="openOrder('Jastip')">
        <i>üì¶</i>
        <div>Jastip</div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="orderModal">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Form Pemesanan</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>

<div class="modal-body">
<input type="text" id="nama" class="form-control mb-2" placeholder="Nama Pemesan">
<input type="text" id="layanan" class="form-control mb-2" readonly>

<button class="btn btn-primary w-100 mb-2" onclick="getLocation()">Ambil Lokasi Jemput (GPS)</button>
<input type="text" id="jemput" class="form-control mb-2" readonly placeholder="Lokasi Jemput">

<input type="text" id="antar" class="form-control mb-2" placeholder="Tujuan Antar">

<input type="text" id="tarif" class="form-control mb-2" readonly placeholder="Tarif">
</div>

<div class="modal-footer">
<button class="btn btn-success w-100" onclick="kirimWA()">Kirim Pesanan</button>
</div>

</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
let lat1, lon1;

function openOrder(layanan){
  document.getElementById("layanan").value = layanan;
  new bootstrap.Modal(document.getElementById("orderModal")).show();
}

function getLocation(){
  navigator.geolocation.getCurrentPosition(pos=>{
    lat1 = pos.coords.latitude;
    lon1 = pos.coords.longitude;
    document.getElementById("jemput").value = lat1+","+lon1;
  });
}

function hitungTarif(km){
  let tarif = 9000;
  if(km>1){
    let extra = Math.round((km-1)*1000);
    tarif += Math.round(extra/1000)*1000;
  }
  return tarif;
}

function kirimWA(){
  let nama = nama.value;
  let layanan = document.getElementById("layanan").value;
  let jemput = document.getElementById("jemput").value;
  let antar = document.getElementById("antar").value;

  let maps = `https://www.google.com/maps?q=${jemput}`;
  let tarif = hitungTarif(1.6); // simulasi jarak
  document.getElementById("tarif").value = tarif;

  let text = `Pesanan GACOR EXPRESS%0A
Nama: ${nama}%0A
Layanan: ${layanan}%0A
Jemput: ${jemput}%0A
Antar: ${antar}%0A
Tarif: Rp${tarif}%0A
Maps: ${maps}`;

  window.open(`https://wa.me/6282154306353?text=${text}`);
}

if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js');
}
</script>

</body>
</html>
